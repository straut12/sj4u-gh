<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>VScode and Github | ST</title> <meta name="author" content="Sean Trautman"/> <meta name="description" content="Intro to VScode and Github"/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/st-logo-transparent.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://straut12.github.io/ref/coding/git/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <div class="site-container"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">ST</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"></a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Coding</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/coding/git/">VScode Github</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/bash/">Bash Shell</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/python/">Python</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/js/">JavaScript</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/html/">Web HTML</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Data Analysis</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/data-analysis/data-collection/">data collection</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/databases/">databases</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/basic-charting/">basic charting</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/data-visualization/">data visualization</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/ml/">machine learning</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/statistics/">notes</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Linux</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/linux/linuxdistros/">Linux Options</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/desktop/">Desktop Appearance</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/software/">Installing SW</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/sharing/">File Sharing</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/vnc-ssh/">Remote vnc ssh</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/terminal/">Terminal cli</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/autostart/">Autostart systemd</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/logs/">Logs</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/list/">List of SW to Install</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="site-body wrapper"> <aside class="site-sidebar" id="site-sidebar"> <nav class="toc"> <header><h4 class="toc__title">Table of Contents</h4></header> <ul class="toc__menu"> <li><a href="#vs-code-with-git">VS code with git</a></li> <li><a href="#setup-including-ssh-key">Setup Including SSH Key</a></li> <li><a href="#vs-code-git-workflow">VS code git Workflow</a></li> <li><a href="#git-branches">git Branches</a></li> <li> <a href="#other-useful-git-commands">Other Useful git Commands</a> <ul> <li><a href="#rename-a-repo">Rename a Repo</a></li> <li><a href="#delete-a-git-folder">Delete a git folder</a></li> <li><a href="#fix-remote-local-diverged">Fix Remote Local Diverged</a></li> </ul> </li> </ul> </nav> </aside> <main> <div class="post"> <p class="post-description">Intro to VScode and Github</p> <article> <h1 id="vs-code-with-git">VS code with git</h1> <p>There are a large number of code editors to choose from. VScode is my choice because of its wide selection of extensions and how well it integrates with git.​ It is also light enough to run on a smaller system like a RPi.</p> <p>With VS code extensions you can essentially turn it into an IDE. The primary extensions I install are Python and GitHub Pull Requests and Issues. However there are a number of other useful extensions depending on what you’re working on.</p> <ul> <li>Live Server enables a local server that you can use to preview your web pages while you develop them.</li> <li>Luna Paint gives you the ability to do quick and simple image edits inside VScode.</li> <li>Remote-SSH allows you to connect to another machine and create/update code files on it.</li> <li>Pymakr can connect to microcontrollers and gives you the ability to write/install microPython projects on them.</li> </ul> <hr> <p><strong>git</strong> is the version control portion and tracks the history of your code/project. Often you create a simpler, first version of your project that works, but doesn’t have all the features you ultimately want. You want to add more features but without breaking your working or production code (main branch). Git allows you to create additional branches where you can add features or fix bugs and then merge it back into your main branch.</p> <p><strong>github</strong> is the web-based portion where you can remotely store your project in Git repositories. This allows others to copy your project and suggest changes. Thru extensions, VScode has built-in git functions which streamlines the update process. Using VS code with git hub extensions you can easily keep your project code sync’d with the cloud so you always have an up-to-date backup and can easily clone it to another system.</p> <p>A couple good articles on the functions of git and version control are at <a href="https://reflectoring.io/github-fork-and-pull/" target="_blank" rel="noopener noreferrer">reflectoring</a> and <a href="https://learn.adafruit.com/contribute-to-circuitpython-with-git-and-github?view=all" target="_blank" rel="noopener noreferrer">adafruit</a>.</p> <p>Other code editors I looked at and how much resources they use</p> <ul> <li>Pycharm <strong>~800MB</strong> (too much for a Pi3/1GB RAM)</li> <li>VScode <strong>~300MB</strong> </li> <li>Thonny, mu-editor, geany, nano. <strong>&lt; 50MB</strong> </li> <li>Memory/RAM comparison using <code class="language-plaintext highlighter-rouge">$ free -m</code> </li> </ul> <hr> <p><strong>Installing VScode and git</strong><br> <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">VScode</a> can be downloaded and installed.<br> <strong>git</strong> - For Linux I install with <code class="language-plaintext highlighter-rouge">sudo apt install git</code><br> For Windows I install from the git download page. You can then run a git cmd terminal and have similar functions as a linux terminal. You can also use the vs code to run git commands instead of a terminal.</p> <hr> <p><strong>User and Workspace Settings</strong><br> To avoid “unresolved import ‘packageA’ when importing your own modules in VS code<br> Workspace settings - <br> { “python.autoComplete.extraPaths”: [”./path/to/packageA”] }</p> <hr> <h1 id="setup-including-ssh-key">Setup Including SSH Key</h1> <p><strong>Installing VScode</strong> - VScode is now supported by Raspberry Pi and can be installed by downloading the .deb at <a href="https://code.visualstudio.com/download" target="_blank" rel="noopener noreferrer">VScode Downloads</a><br> Download .deb ARM (or ARM 64 if using 64 bit version)<br> Open the file with gdebi to install or run command<br> <code class="language-plaintext highlighter-rouge">$ sudo gdebi &lt;vscode.deb file&gt;</code><br> (VS code is also in Ubuntu software center to install on Ubuntu)</p> <p><strong>Installing git</strong><br> <code class="language-plaintext highlighter-rouge">$ sudo apt-get install git</code><br> Needed gnome-keyring below for the VScode git functions<br> <code class="language-plaintext highlighter-rouge">$ sudo apt install gnome-keyring</code><br> Go to extensions in VScode and install the <strong>GitHub Pull Requests and Issues</strong> (you will also need the Python extension if working Python projects)<br> One time setup to set some git defaults for your repositories<br> <code class="language-plaintext highlighter-rouge">$ git config --global user.email "you@example.com"</code><br> <code class="language-plaintext highlighter-rouge">$ git config --global user.name "Your Name"</code></p> <p><strong>ssh Key Setup</strong><br> To automatically sync your local code with github you’ll need to securely link your RPi to your github account. This can be done using ssh keys. Follow the detailed steps at <a href="../../../ref/linux/vnc-ssh/#ssh-key-authentication">SSH key authentication</a></p> <p>You will need to do these steps for each RPi or other local system you want to use to update code on your remote GitHub account.</p> <p><strong>Some terms in github</strong><br> HTTP = read only (you can also download a zip file and extract it)<br> SSH = read/write (the write portion requires a SSH Key)<br> ​​​​​​Synchronizing involves <strong>pull</strong>ing remote changes down to your local repository and then <strong>push</strong>ing any local commits back to the upstream branch.</p> <hr> <h1 id="vs-code-git-workflow">VS code git Workflow</h1> <p>For starting an initial project I create an empty repo in github and then clone it to my local system where it will be running. Then I use VS code to work on the code and keep it sync’d with github.</p> <blockquote> <p>Note if using multiple github accounts</p> </blockquote> <p>If using multiple github accounts make sure you have a ~/.ssh/config file created. It will look like the following.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">#</span><span class="w"> </span>Account: githubuser1
<span class="go">Host github.com-githubuser1
  HostName github.com
  User git
  IdentityFile C:\Users\user\.ssh\id_rsa_githubuser1

</span><span class="gp">#</span><span class="w"> </span>Account: githubuser2
<span class="go">Host github.com-githubuser2
  HostName github.com
  User git
  IdentityFile C:\Users\user\.ssh\id_rsa_githubuser2
</span></code></pre></div></div> <p>And then when you git clone specify the Host name at the end of git@github.com<br> <code class="language-plaintext highlighter-rouge">git clone git@github.com-githubuser1:githubuser1/weather.git</code></p> <p>Steps are assuming a RPi will be running the project code</p> <ol> <li>Login to <a href="https://github.com/" target="_blank" rel="noopener noreferrer">github</a> and create a new, empty, repository. I also go ahead and create a README and use the .gitignore python template.</li> <li>Click on the <strong>Code</strong> button and copy the <strong>SSH link</strong>. (GitHub account must be linked with <a href="../../../ref/linux/vnc-ssh/#ssh-key-authentication">SSH key</a> to the RPi)</li> <li>Here you can either go directly to the RPi or use VS code with remote-ssh on a PC/laptop and connect remotely to the RPi. <br> Once connected clone the empty repository using the copied SSH link. If in the VScode GUI hit F1 to get the command pallette and type “git”. Or at a VS code or system terminal <code class="language-plaintext highlighter-rouge">CD &lt;dir&gt;</code> into your working directory and<br> <code class="language-plaintext highlighter-rouge">$ git clone git@github.com:user/repo.git</code> </li> <li>In VS code navigate to the project folder</li> <li>You can start a <strong>test.py</strong> to edit and test the git functionality <ul> <li>Go to ‘Source Control’ option (left side bar) to see the files. As you create/edit files they will show up here for you to stage/commit for later sync’ing with github. New files will be listed with a ‘U’ for untracked, modified files with a M, deleted files with a D, etc.</li> <li>If working with a virtual env your .gitignore should show it will ignore the venv files when uploading to github. (you normally don’t want these files uploaded). If you didn’t use the python .gitignore template in step 1 you’ll need to right click on the .venv folder and manually add it to the .gitignore. To see the .venv as a folder you may have to click on the “Toggle View Mode” at the top.</li> <li>You can click on a modified file to see what changes you’ve made (working tree). Or click the undo/discard changes icon to undo updates from a file.</li> </ul> </li> <li>When finished updating your code you go back to ‘Source Control’, add a comment, and then ‘commit’ and ‘sync’. (you can hit shift-enter to add multiple lines of comments). There is an icon in the bottom left for synchronizing changes too. Or terminal commands are <ul> <li><code class="language-plaintext highlighter-rouge">$ git diff</code></li> <li><code class="language-plaintext highlighter-rouge">$ git add .</code></li> <li><code class="language-plaintext highlighter-rouge">$ git diff --staged</code></li> <li><code class="language-plaintext highlighter-rouge">$ git commit -m "message comments"</code></li> <li> <code class="language-plaintext highlighter-rouge">$ git push -u origin main</code>(-u will set the upstream default so in future you can just type $ git push)</li> </ul> </li> <li>Now you can go to the <a href="https://github.com/" target="_blank" rel="noopener noreferrer">github</a> repo, refresh, and confirm the changes were uploaded</li> </ol> <hr> <p>If you didn’t clone from github and have an existing project you want to link to a remote GitHub repository you have multiple options.</p> <ul> <li>From command palette type ‘git add remote’ and select it. Now you can paste the <strong>SSH link</strong> from github</li> <li>or a friendlier method is select the ‘Add remote from GitHub’ provided by the GitHub Pull Request and Issues extension. This will log you into GitHub and then show you your repositories so you can select one. For the name use ‘origin’.</li> <li>Or in a terminal type<br> <code class="language-plaintext highlighter-rouge">$ git remote add origin &lt;copied SSH link&gt;</code><br> Now the local Pi folder is linked to remote GitHub repository. You can always check with command<br> <code class="language-plaintext highlighter-rouge">$ git remote -v</code> </li> </ul> <hr> <p>To download the code to another RPi do the following in a terminal or use the key words to navigate the VS code git menus</p> <ol> <li> <code class="language-plaintext highlighter-rouge">$ cd</code>(go to directory one branch up from where you want to install.. clone command below will create the folder)</li> <li><code class="language-plaintext highlighter-rouge">$ git clone &lt;SSH link from remote GitHub&gt;​</code></li> <li> <code class="language-plaintext highlighter-rouge">$ git remote -v</code>(confirm origin link)</li> </ol> <hr> <p><strong>Python Anywhere</strong> - Quick reset to pull down new changes. If trying to update Python Anywhere code with most recent github version (and you have gotten out of sync with github) can use</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">reset</span> <span class="o">--</span><span class="n">hard</span>
<span class="n">git</span> <span class="n">pull</span>
</code></pre></div></div> <h1 id="git-branches">git Branches</h1> <p>Branches are useful for adding features or fixing bugs. It allows you to leave your working, production code alone by branching off. When you’re done with the branch you can merge the updates back to the main branch.</p> <p>Git branch commands for local<br> <code class="language-plaintext highlighter-rouge">$ git branch</code> (list branches)<br> <code class="language-plaintext highlighter-rouge">$ git checkout -b &lt;new branch&gt;</code> (creates new branch and checks it out, $ git checkout)<br> <code class="language-plaintext highlighter-rouge">$ git branch -d &lt;branch to delete&gt;</code> (use for -D to force delete)<br> <code class="language-plaintext highlighter-rouge">$ git branch -m &lt;new name&gt;</code><br> <code class="language-plaintext highlighter-rouge">$ git branch -a</code> (list remote branches)</p> <p><strong>Create a permanent “develop’ branch</strong><br> Develop acts as a work-in-progress version of you main branch. You can build features or fix bugs from the develop. (you will always merge back to the main branch when features/bug fixes are completed)<br> <code class="language-plaintext highlighter-rouge">$ git checkout -b develop main</code></p> <p><strong>Create a “feature” branch from develop</strong><br> <code class="language-plaintext highlighter-rouge">$ git checkout -b feature1 develop</code> (creates feature branch and checks it out)<br> Can work on the feature and make commits</p> <p><strong>Merge the feature back into develop branch</strong><br> <code class="language-plaintext highlighter-rouge">$ git checkout develop</code> (switch from feature back to develop)<br> <code class="language-plaintext highlighter-rouge">$ git merge --no-ff feature1</code> (merge develop and feature1)<br> <code class="language-plaintext highlighter-rouge">$ git branch -d feature1</code> (delete the feature1 branch)<br> <code class="language-plaintext highlighter-rouge">$ git push origin develop</code> (update the remote repo)</p> <p><strong>When all features are complete merge develop back into main</strong><br> <code class="language-plaintext highlighter-rouge">$ git checkout main</code><br> <code class="language-plaintext highlighter-rouge">$ git merge develop</code></p> <hr> <p><strong>Create a “hotfix” (bug) branch from main</strong><br> <code class="language-plaintext highlighter-rouge">$ git checkout -b hotfix1 main</code> (creates hotfix branch and checks it out)<br> Can work on the bug and make commits</p> <p><strong>Merge the bug fix back into main and develop branch</strong><br> <code class="language-plaintext highlighter-rouge">$ git checkout main</code><br> <code class="language-plaintext highlighter-rouge">$ git merge --no-ff hotfix1</code><br> <code class="language-plaintext highlighter-rouge">$ git checkout develop</code><br> <code class="language-plaintext highlighter-rouge">$ git merge --no-ff hotfix1</code></p> <p><code class="language-plaintext highlighter-rouge">$ git push origin develop</code> (update the remote repo)<br> <code class="language-plaintext highlighter-rouge">$ git push origin main</code> (update the remote repo)</p> <p><code class="language-plaintext highlighter-rouge">$ git branch -d hotfix1</code> (delete the hotfix branch)</p> <hr> <h1 id="other-useful-git-commands">Other Useful git Commands</h1> <p>Many of the git commands are accessible in VScode in the command palette (ctrl-shift-P) and start typing git .. .git/config (in your home directory) is also useful to look at</p> <p>To see a log of changes<br> <code class="language-plaintext highlighter-rouge">$ git log --oneline --decorate</code></p> <h2 id="rename-a-repo">Rename a Repo</h2> <p><strong>Rename a Repo</strong><br> At github go to settings and rename the repo On local PC<br> <code class="language-plaintext highlighter-rouge">$ git remote set-url origin git@github.com:user/newname.git</code><br> ​ Note you may have to do the following<br> <code class="language-plaintext highlighter-rouge">$ git remote rm origin</code><br> <code class="language-plaintext highlighter-rouge">$ git remote add origin git@github.com:user/newname.git</code></p> <p>General commands<br> <code class="language-plaintext highlighter-rouge">$ git init</code> (set a folder up for git)<br> <code class="language-plaintext highlighter-rouge">$ git status</code> (Check status of files committing)<br> <code class="language-plaintext highlighter-rouge">$ git add .</code><br> <code class="language-plaintext highlighter-rouge">$ git commit -m "message details"</code></p> <hr> <p><strong>​HEAD</strong> is the current branch (active head). When you switch branches with git checkout, the HEAD revision changes to point to the tip of the new branch.<br> To see what HEAD points to<br> <code class="language-plaintext highlighter-rouge">$ cat .git/HEAD</code></p> <hr> <h2 id="delete-a-git-folder">Delete a git folder</h2> <p><strong>Close/Remove a git folder from a local project</strong><br> In VScode palette (ctrl-shift-P) type Git: Close Repository<br> Then delete the .git directory<br> <code class="language-plaintext highlighter-rouge">$ rm -rf .git/</code></p> <p>Cleaning up a GitHub repository - Delete files on remote GitHub repository (but leaves them on local system)<br> <code class="language-plaintext highlighter-rouge">$ git rm -r .venv2/ --cached </code> –cached leaves file on local system. can also add –dry-run flag at end to see what will be removed before doing it<br> If you omit the –cached it will remove both the local and remote files.</p> <hr> <p><strong>Git Remote Commands (syncing - push/pull)</strong><br> Remote commands<br> Can see the github link under the github repo and Code (clone) button<br> <code class="language-plaintext highlighter-rouge">$ git clone &lt;git http&gt;</code> (will create remote link)<br> HTTP is read only and SSH is read-write</p> <p><code class="language-plaintext highlighter-rouge">$ git remote -v</code> (verbose)<br> <code class="language-plaintext highlighter-rouge">$ git remote add origin &lt;SSH link&gt;</code><br> <code class="language-plaintext highlighter-rouge">$ git remote rm origin</code><br> <code class="language-plaintext highlighter-rouge">$ git remote rename origin new-origin</code>(can also edit .git/config)<br> <code class="language-plaintext highlighter-rouge">$ git remote show origin</code></p> <p>If there is no remotes/origin/HEAD -&gt; origin/main run<br> <code class="language-plaintext highlighter-rouge">$ git remote set-head origin -a</code> <br> remotes\origin\HEAD indicates the default branch on the remote. You can use origin as a shorthand for origin/master.</p> <p>other remote/origin commands<br> <code class="language-plaintext highlighter-rouge">$ git remote remove origin </code> To remove link to remote<br> <code class="language-plaintext highlighter-rouge">$ git remote set-url origin &lt;new SSH link&gt;</code> To change the remote link (can also edit .git/config and change URLs)<br> Upload local repo content to a remote repo<br> <code class="language-plaintext highlighter-rouge">$ git push &lt;remote&gt; &lt;branch&gt;</code><br> <code class="language-plaintext highlighter-rouge">$ git push -u origin main</code>(future can type $ git push)<br> origin’ is just an alias on your local system for a particular remote repository. You can also push using the URL directly<br> <code class="language-plaintext highlighter-rouge">$ git push &lt;SSH link&gt; main</code><br> <code class="language-plaintext highlighter-rouge">$ git push origin -all</code> (push all local branches)<br> <code class="language-plaintext highlighter-rouge">$ git push origin --force</code> (forces the push even if it results in non-fast-forward merge)</p> <h2 id="fix-remote-local-diverged">Fix Remote Local Diverged</h2> <p><strong>If remote history has diverged from local history then pull the remote and merge it into the local, then push again.</strong></p> <p><code class="language-plaintext highlighter-rouge">$ git fetch origin</code> (download commits, files, refs from the remote repo but doesn’t automatically merge them)<br> * <code class="language-plaintext highlighter-rouge">$ git fetch origin &lt;branch-name&gt; </code> (for specific branch)<br> <code class="language-plaintext highlighter-rouge">$ git log --oneline main..origin/main</code> (to see changes from remote)<br> <code class="language-plaintext highlighter-rouge">$ git checkout main</code> (updates the files in working dir to match the version stored in main and all new commits will go to main)<br> <code class="language-plaintext highlighter-rouge">$ git log origin/main</code><br> <code class="language-plaintext highlighter-rouge">$ git merge origin/main</code> (main and origin/main now point to the same commit)<br> <code class="language-plaintext highlighter-rouge">$ git pull origin</code> (fetch + merge: Will fetch changes based on where local branch HEAD is pointed. Then merges into local repo and updates HEAD to point to the new commit)</p> <hr> <p>A <strong>gitignore</strong> file allows you to specify what files/folders you want to prevent from uploading to the github remote repo. To configure a global .gitignore (this will add a line in your .gitconfig)<br> <code class="language-plaintext highlighter-rouge">$ touch ~/.gitignore_global</code><br> <code class="language-plaintext highlighter-rouge">$ git config --global core.excludesfile ~/.gitignore_global</code></p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">.vscode/
workspace.code-workspace
.venv/
*.log
.log
</span></code></pre></div></div> <p>​To update a file already in your repo that you want to ignore.<br> <code class="language-plaintext highlighter-rouge">$ git update-index --assume-unchanged &lt;file&gt;</code></p> <hr> <p><strong>Rename the Default git Branch</strong><br> To change from master to main branch.<br> Go to github and repository settings for the project.<br> Then branches and edit. Rename the branch.<br> Then if you have a local clone run<br> <code class="language-plaintext highlighter-rouge">$ git branch -m master main</code><br> <code class="language-plaintext highlighter-rouge">$ git fetch origin</code><br> <code class="language-plaintext highlighter-rouge">$ git branch -u origin/main main​</code><br> <code class="language-plaintext highlighter-rouge">$ git remote set-head origin -a</code></p> <p>options below may be used for trouble shooting.</p> <p>VScode bottom left ‘master’ button. + Create new branch from .. (select master to copy from and name it ‘main’)<br> then select HEAD ref</p> <p>From terminal<br> Starting with master default branch<br> <code class="language-plaintext highlighter-rouge">$ cat .git/HEAD --&gt; ref: refs/heads/master</code><br> <code class="language-plaintext highlighter-rouge">$ git branch -a</code></p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">* master 
</span><span class="gp">remotes/origin/HEAD -&gt;</span><span class="w"> </span>origin/master 
<span class="go">remotes/origin/master 
</span></code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">$ git branch -m master main -m</code> to move the master branch to main, including the history<br> <code class="language-plaintext highlighter-rouge">$ cat .git/HEAD --&gt; ref: refs/heads/main</code> <br> and <code class="language-plaintext highlighter-rouge">$ git branch -a</code></p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">* main 
remotes/origin/main 
remotes/origin/master 
</span></code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">$ git push -u origin main </code> Push the new main branch to remote GitHub repo</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">remote: Create a pull request for 'main' on GitHub by visiting: 
remote: https://github.com/xxxxx/pull/new/main 
remote: 
To github.com:xxxxxx.git 
</span><span class="gp">* [new branch] main -&gt;</span><span class="w"> </span>main 
<span class="go">Branch 'main' set up to track remote branch 'main' from 'origin'.  
</span></code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">$ git symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/main </code> <br> Point or switch current HEAD to main branch then<br> <code class="language-plaintext highlighter-rouge">$ git branch -a</code></p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">* main 
</span><span class="gp">remotes/origin/HEAD -&gt;</span><span class="w"> </span>origin/main 
<span class="go">remotes/origin/main 
remotes/origin/master
</span></code></pre></div></div> <p>Now go to GitHub and set the default to main under settings/branches. Then go back to terminal to delete the master</p> <p><code class="language-plaintext highlighter-rouge">$ git push origin --delete master</code> Delete the master<br> <code class="language-plaintext highlighter-rouge">$ git branch -a</code> to confirm the master branch was removed</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">* main 
</span><span class="gp">remotes/origin/HEAD -&gt;</span><span class="w"> </span>origin/main 
<span class="go">remotes/origin/main 
</span></code></pre></div></div> <hr> <p>to manually update the tracking branch (listed a starting point at the end)<br> <code class="language-plaintext highlighter-rouge">$ git branch -u origin/main main</code></p> <hr> <p>If there are other Pi’s with local clones will need to update them<br> <code class="language-plaintext highlighter-rouge">$ git checkout master</code> switch to master branch<br> <code class="language-plaintext highlighter-rouge">$ git branch -m master main</code> move history to main locally<br> <code class="language-plaintext highlighter-rouge">$ git fetch </code> get latest commits from server<br> <code class="language-plaintext highlighter-rouge">$ git branch --unset-upstream</code> remove the link to origin/master<br> <code class="language-plaintext highlighter-rouge">$ git branch -u origin/main </code> add a link to origin/main<br> <code class="language-plaintext highlighter-rouge">$ git symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/main</code> update default branch to origin/main</p> <hr> <hr> </article> </div> </main> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Sean Trautman. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>