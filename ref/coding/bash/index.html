<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Bash Shell Scripts and shebang | ST</title> <meta name="author" content="Sean Trautman"/> <meta name="description" content="Intro to bash and shell scripts and shebang"/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/st-logo-transparent.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://straut12.github.io/ref/coding/bash/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <div class="site-container"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">ST</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"></a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Coding</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/coding/git/">VScode Github</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/bash/">Bash Shell</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/python/">Python</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/js/">JavaScript</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/html/">Web HTML</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Data Analysis</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/data-analysis/data-collection/">data collection</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/databases/">databases</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/basic-charting/">basic charting</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/data-visualization/">data visualization</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/ml/">machine learning</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/statistics/">notes</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Linux</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/linux/linuxdistros/">Linux Options</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/desktop/">Desktop Appearance</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/software/">Installing SW</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/sharing/">File Sharing</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/vnc-ssh/">Remote vnc ssh</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/terminal/">Terminal cli</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/autostart/">Autostart systemd</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/logs/">Logs</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/list/">List of SW to Install</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="site-body wrapper"> <aside class="site-sidebar" id="site-sidebar"> <nav class="toc"> <header><h4 class="toc__title">Table of Contents</h4></header> <ul class="toc__menu"> <li><a href="#writing-a-bash-script">Writing a bash Script</a></li> <li><a href="#shebang">shebang</a></li> <li><a href="#bash-example">bash example</a></li> <li> <a href="#more-bash-scripts">More bash Scripts</a> <ul> <li><a href="#passing-arguments-and-read-input">Passing arguments and read input</a></li> <li><a href="#ifelse-conditional-and-case-statements">If/else Conditional and Case Statements</a></li> <li><a href="#comparison-operators">Comparison Operators</a></li> <li><a href="#arrays">Arrays</a></li> <li><a href="#operators-and-more-parameter-expansion">Operators and More Parameter Expansion</a></li> <li><a href="#loops">Loops</a></li> <li><a href="#select-menu-loop">Select Menu Loop</a></li> <li><a href="#functions">Functions</a></li> <li><a href="#file-utilities">File Utilities</a></li> </ul> </li> </ul> </nav> </aside> <main> <div class="post"> <p class="post-description">Intro to bash and shell scripts and shebang</p> <article> <p>Shell and bash are an integral part of operating systems and it’s useful to learn some basic commands. They are essentially programming languages allowing you to run commands, execute files, pass arguments, define variables, etc. Although there are multiple shell languages this page focuses on BAsh (Bourne Again Shell based on the older Bourne Shell). You can confirm you’re using bash with..<br> <code class="language-plaintext highlighter-rouge">$ echo $SHELL</code><br> or a better command is<br> <code class="language-plaintext highlighter-rouge">$ ps | grep $$</code><br> At the end it will list your shell</p> <p>To see list of valid shells installed on your system​<br> <code class="language-plaintext highlighter-rouge">$ cat /etc/shells</code><br> To see shell assigned to a user<br> <code class="language-plaintext highlighter-rouge">$ grep &lt;user&gt; /etc/passwd</code></p> <p>Bash is useful for both one-liners and building a file of bash commands, or script. Here’s an example of a bash one-liner (cd to Desktop and list contents)<br> <code class="language-plaintext highlighter-rouge">$ bash -c 'cd Desktop; ls'</code><br> Anything you type on a command line, like ‘ls’, ‘pwd’, ‘cp <file>' or even more advanced commands can be put into a bash command. When you have multiple command lines, and maybe you want them to run at a specified time interval, it makes sense to create a bash script and combine them into a single file.</file></p> <p>Bash scripts are commonly found in Raspberry Pi projects. Inevitably you will be trouble shooting an item, open up a file, and find yourself looking at a bash script. Knowing some basic syntax will be a big help. Note the order that bash scripts are loaded. When you start a terminal these files, containing commands and environment variables, are executed in this order.</p> <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">/etc/profile
~/.bash_profile
~/.bash_login
~/.profile
</span></code></pre></div></div> <h1 id="writing-a-bash-script">Writing a bash Script</h1> <p>Shell/bash is a scripting language (like Python and JavaScript) compared to compiled languages (ie C/C++, Java).</p> <p>You can execute a script by simply typing the code/commands in a regular terminal command line.</p> <p>Ultimately you will want to group the commands in a shell/bash or python file and execute the entire group of commands at once. But for experimenting either way will work. If you chose single command line then you’ll notice the prompt will change from $ to &gt;. It will also let you know when you are inside a if/then condition or loop and you need to finish it before it outputs a result.<br> ​​ Some quick examples comparing to Python code..<br> (note - for Python you need to indent/tab inside the ‘if’ condition.<br> And you hit ‘enter’ a second time to close the ‘if’ condition and see a result.<br> Python interpreter<br> <code class="language-plaintext highlighter-rouge">$ python3</code></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">=</span><span class="mi">1</span>      
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span>    
<span class="o">&gt;&gt;&gt;</span> <span class="k">if</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">:</span>    
<span class="p">...</span>          <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">b is greater</span><span class="sh">'</span><span class="p">)</span> 
<span class="p">...</span>     
<span class="n">b</span> <span class="ow">is</span> <span class="n">greater</span>      
<span class="o">&gt;&gt;&gt;</span> <span class="n">ctrl</span><span class="o">-</span><span class="n">D</span>
</code></pre></div></div> <p>Compare Python syntax to Bash</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ a</span><span class="o">=</span>1   
<span class="nv">$ b</span><span class="o">=</span>2      
<span class="nv">$ </span><span class="k">if</span> <span class="o">[[</span> <span class="nv">$b</span> <span class="nt">-gt</span> <span class="nv">$a</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>  
<span class="o">&gt;</span> <span class="nb">echo</span> <span class="s2">"b is greater"</span>   
<span class="o">&gt;</span> <span class="k">fi         
</span>b is greater    
<span class="nv">$ </span> 
</code></pre></div></div> <p>Some tutorials <a href="https://www.learnshell.org/" target="_blank" rel="noopener noreferrer">learnshell</a> and one-liners at <a href="https://onceupon.github.io/Bash-Oneliner/#awk" target="_blank" rel="noopener noreferrer">onceupon</a></p> <hr> <h1 id="shebang">shebang</h1> <p><strong>The shebang #! Header for bash (and python)</strong><br> Shell/Python scripts typically start with a shebang as the header, giving instructions on what interpreter to run that script (bash, shell, python2, python3). By adding a shebang header, and making the file executable, you eliminate the need for specifying the shell/python in the command line and possibly making a mistake.</p> <p>Some shebang examples from wiki..<br> Execute using Bourne shell<br> <code class="language-plaintext highlighter-rouge">#!/bin/sh</code><br> Execute using Bash shell<br> <code class="language-plaintext highlighter-rouge">#!/bin/bash</code><br> Execute using Bash shell. More universal method with the ‘env’ (see below)<br> <code class="language-plaintext highlighter-rouge">#!/usr/bin/env bash </code><br> Execute the file using Python3<br> <code class="language-plaintext highlighter-rouge">#!/usr/bin/env python3</code></p> <p>this is a common header for a bash script<br> <code class="language-plaintext highlighter-rouge">#!/bin/bash</code></p> <p>But another method to improve portability, and account for shell, python, etc being installed in a different location on different systems, is to use.<br> <code class="language-plaintext highlighter-rouge">#!/usr/bin/env</code></p> <p>It can interpret your $PATH, so<br> <code class="language-plaintext highlighter-rouge">#!/usr/bin/env bash </code><br> and<br> <code class="language-plaintext highlighter-rouge">#!/usr/bin/env python3</code><br> work because it uses the first bash or python found in your $PATH.</p> <hr> <h1 id="bash-example">bash example</h1> <p>​Create a simple bash script that outputs “hello from bash”<br> <code class="language-plaintext highlighter-rouge">$ touch hello.sh</code> Create the ‘hello’ script file<br> <code class="language-plaintext highlighter-rouge">$ nano hello.sh</code> Edit the ‘hello’ script using nano and add shebang plus a line to print ‘hello from bash’ to the screen</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash      </span>
<span class="nb">echo</span> <span class="s1">'hello from bash'</span>  
<span class="nb">exit </span>and save
</code></pre></div></div> <p>Make the file executable.<br> <code class="language-plaintext highlighter-rouge">$ chmod +x hello.sh</code><br> Execute the script<br> <code class="language-plaintext highlighter-rouge">$ ./hello.sh</code><br> Note - The ‘.’ tells your system the location of the file is in the current directory. If you just type $ hello.sh your system doesn’t intuitively know the script is in the current directory and will give an error that ‘command not found’. But you can always run it from any directory by telling your system the full path. In my example I would use<br> <code class="language-plaintext highlighter-rouge">$ /home/pi/test/hello.sh.</code><br> If you want to run your script without having to pass the location, just as you can run executables like ‘ls’, ‘cd dir’, ‘pwd’ from any directory then look at <a href="../../../ref/linux/terminal/#path">$PATH</a> instructions.</p> <p>​Python examples<br> A python file hello.py that is made executable<br> <code class="language-plaintext highlighter-rouge">$ nano hello.py</code></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">​</span><span class="c1"># no shebang in first attempt  
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">)</span>                            
</code></pre></div></div> <p><code class="language-plaintext highlighter-rouge">$ chmod +x hello.py</code><br> When you execute<br> <code class="language-plaintext highlighter-rouge">$ ./hello.py</code><br> You get an error. With no shebang, your system does not know which interpreter to use. The extension doesn’t matter like it does in windows. So it tries running the python script with the default shell script and fails.<br> But by adding a shebang with python3 specified.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env python3
</span><span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">hello</span><span class="sh">"</span><span class="p">)</span>                   
</code></pre></div></div> <p>Now when you execute<br> <code class="language-plaintext highlighter-rouge">$ ./hello.py</code><br> it prints out hello</p> <p>You can also create a bash file to run your python script<br> Create a bash file called hello-script.sh, with the lines below, and make it executable.<br> <code class="language-plaintext highlighter-rouge">$ nano hello-script.sh</code></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash            </span>
/home/pi/hello.py               
</code></pre></div></div> <p>then run with<br> <code class="language-plaintext highlighter-rouge">$ ./hello-script.sh</code><br> and it executes the python script printing out hello<br> You could add more lines to the hello-script.sh file to run multiple commands.</p> <hr> <h1 id="more-bash-scripts">More bash Scripts</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"this will output some text to the screen"</span>

<span class="c"># assign a variable</span>
<span class="nv">VAR1</span><span class="o">=</span><span class="s2">"english"</span> 

<span class="nb">echo</span> <span class="s2">"I am taking </span><span class="nv">$VAR1</span><span class="s2"> in college"</span> 
<span class="c"># note you need $ in front of variable for parameter expansion, to output the value. echo with double quote will let you include variables​, too.</span>

<span class="c"># Can also use ${} brackets to let bash know the exact variable name</span>
<span class="c"># example</span>
<span class="nb">echo</span> <span class="s2">" I am taking </span><span class="nv">$a101</span><span class="s2">"</span> 
<span class="c"># does not work because it looks like the variable name is $a101, but if you do..</span>
<span class="nb">echo</span> <span class="s2">" I am taking </span><span class="k">${</span><span class="nv">a</span><span class="k">}</span><span class="s2">101 class"</span>
<span class="c"># it works</span>

Single quote will <span class="nb">let </span>you assign a <span class="nb">command
</span><span class="nv">VAR2</span><span class="o">=</span><span class="s1">'pwd'</span>
​# assign a <span class="nb">command </span>utility to a variable using <span class="s1">'cmd'</span>

<span class="c"># You can assign output from commands using $( command )</span>
<span class="nv">VAR3</span><span class="o">=</span><span class="si">$(</span> <span class="nb">echo</span> <span class="nv">$PATH</span> <span class="si">)</span>
<span class="nb">echo</span> <span class="s2">"my path is </span><span class="nv">$VAR3</span><span class="s2">"</span>

<span class="c"># Assign a default value during parameter expansion</span>
<span class="nb">echo</span> <span class="s2">"I have </span><span class="k">${</span><span class="nv">VAR4</span><span class="k">:-</span><span class="nv">5</span><span class="k">}</span><span class="s2"> classes"</span>
​# VAR4 is not defined so it will use default value of 5
</code></pre></div></div> <hr> <h2 id="passing-arguments-and-read-input">Passing arguments and read input</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># To read input from the user​​</span>
<span class="nb">echo</span> <span class="s2">"what is your name?"</span>  
<span class="nb">read </span>VAR4                               
<span class="nb">echo</span> <span class="s2">"your name is </span><span class="nv">$VAR4</span><span class="s2">"</span> 

<span class="c"># To pass an argument during the command line execution list it at the end</span>
<span class="c"># It will assign $1, $2, $3 etc to each argument passed</span>
​<span class="nv">$ </span>./myscript.sh friday
<span class="nb">echo</span> <span class="s2">"today is </span><span class="nv">$1</span><span class="s2">"</span>

<span class="c"># Some defaults</span>
<span class="c"># $0 =name of the bash script</span>
<span class="c"># $1-9 can be used to pass arguments (see passing arguments below)</span>
<span class="c"># $# =how many arguments were passed</span>
<span class="c"># $@ =all arguments passed</span>
<span class="c"># $$ =process ID of current shell</span>
</code></pre></div></div> <hr> <h2 id="ifelse-conditional-and-case-statements">If/else Conditional and Case Statements</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># General syntax​​</span>
<span class="k">if</span> <span class="o">[</span> condition <span class="o">]</span> <span class="p">;</span> <span class="k">then
elif</span> <span class="o">[</span>condition <span class="o">]</span> <span class="p">;</span> <span class="k">then
else
fi</span>

<span class="o">&amp;&amp;</span> is AND
<span class="o">||</span> is OR

<span class="c">#example</span>
<span class="nv">$ </span>./myscript.sh friday 

<span class="c"># note - use quotation inside comparison</span>
<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"saturday"</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"sunday"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then 
    </span><span class="nb">echo</span> <span class="s2">"you are right this is weekend"</span>
<span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"wrong </span><span class="nv">$1</span><span class="s2"> is a weekday"</span>
<span class="k">fi</span>
<span class="c"># elseif is just elif</span>
<span class="c"># -n means 'if not empty'</span>

<span class="c"># Case syntax</span>
<span class="k">case</span> <span class="nv">$1</span> <span class="k">in
    </span>monday<span class="p">)</span> <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"it is monday"</span><span class="p">;;</span>
    tuesday<span class="p">)</span> <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"it is tuesday"</span><span class="p">;;</span>
   <span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"not sure what day"</span><span class="p">;;</span>
<span class="k">esac</span>

<span class="c"># using OR</span>

<span class="k">case</span> <span class="nv">$1</span> <span class="k">in
    </span>monday <span class="p">|</span> tuesday <span class="p">|</span> wednesday<span class="p">)</span> <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"it is weekday"</span><span class="p">;;</span>
    saturday <span class="p">|</span> sunday<span class="p">)</span> <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"it is weekend"</span><span class="p">;;</span>
   <span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"not sure what day"</span><span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div></div> <hr> <h2 id="comparison-operators">Comparison Operators</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Numerical Comparison</span>
<span class="nv">$ </span>./compare.sh 1 2 
<span class="nv">var1</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">var2</span><span class="o">=</span><span class="nv">$2</span>                                                    
<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2">"</span> <span class="nt">-lt</span> <span class="s2">"</span><span class="nv">$var2</span><span class="s2">"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then               
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2"> is less than </span><span class="nv">$var2</span><span class="s2">"</span>       
<span class="k">else                                                           
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2"> is greater than </span><span class="nv">$var2</span><span class="s2">"</span> 
<span class="k">fi</span>                                                                

<span class="nt">-lt</span> <span class="o">(</span>less than<span class="o">)</span>
<span class="nt">-gt</span> <span class="o">(</span>greater than<span class="o">)</span>
<span class="nt">-le</span> <span class="o">(</span>less than or equal<span class="o">)</span>
<span class="nt">-ge</span> <span class="o">(</span>greater than or equal<span class="o">)</span>
<span class="nt">-eq</span> <span class="o">(</span>is equal<span class="o">)</span>
<span class="nt">-ne</span> <span class="o">(</span>is not equal<span class="o">)</span>

<span class="c"># String Comparison</span>
<span class="nv">$ </span>./compare.sh hey hay
<span class="nv">var1</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">var2</span><span class="o">=</span><span class="nv">$2</span>                                                            
<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"</span><span class="nv">$var2</span><span class="s2">"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then                       
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2"> is same as </span><span class="nv">$var2</span><span class="s2">"</span>                 
<span class="k">else                                                                   
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2"> is NOT the same as </span><span class="nv">$var2</span><span class="s2">"</span> 
<span class="k">fi</span>                                                                        

<span class="o">=</span> <span class="o">(</span>is same<span class="o">)</span>
<span class="o">==</span> <span class="o">(</span>is same<span class="o">)</span>
<span class="o">!=</span> <span class="o">(</span>is different<span class="o">)</span>
<span class="nt">-z</span> <span class="s2">"</span><span class="nv">$var1</span><span class="s2">"</span> <span class="o">(</span>is empty<span class="o">)</span>

</code></pre></div></div> <hr> <h2 id="arrays">Arrays</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Assign array values inside () and space delimited​​</span>
<span class="nv">DARRAY</span><span class="o">=(</span>1 2 hello<span class="o">)</span>
DARRAY[3]<span class="o">=</span><span class="s2">"today"</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">DARRAY</span><span class="p">[2]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">DARRAY</span><span class="p">[3]</span><span class="k">}</span>
<span class="nb">echo</span> <span class="k">${#</span><span class="nv">DARRAY</span><span class="p">[@]</span><span class="k">}</span> <span class="c"># number of elements in the array</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">DARRAY</span><span class="p">[</span><span class="k">${#</span><span class="nv">DARRAY</span><span class="p">[@]</span><span class="k">}</span><span class="p">-1]</span><span class="k">}</span> <span class="c"># next to last element</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">DARRAY</span><span class="p">[@]</span><span class="k">}</span> <span class="c"># all array elements</span>
</code></pre></div></div> <hr> <h2 id="operators-and-more-parameter-expansion">Operators and More Parameter Expansion</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Numerical Operators</span>
var1 + var2 <span class="o">(</span>+, -, <span class="k">*</span>, /, %, <span class="k">**</span><span class="o">)</span>

<span class="c"># String Operators and Parameter Expansion</span>
<span class="nv">var</span><span class="o">=</span><span class="s2">"north by northwest"</span>

<span class="nb">echo</span> <span class="k">${#</span><span class="nv">var</span><span class="k">}</span> <span class="c"># string length</span>

<span class="c"># ${var/search/replace}  / only does 1st occurrence</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">var</span><span class="p">/north/south</span><span class="k">}</span>
<span class="c"># ${var//search/replace}  // does all occurrence</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">var</span><span class="p">//north/south</span><span class="k">}</span>

<span class="c"># ${var:offset:length} slice a string</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">var</span>:2:3<span class="k">}</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">var</span>:0:3<span class="k">}</span> <span class="c"># first 3 characters</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">var</span>:<span class="p">(-5)</span>:3<span class="k">}</span> <span class="c"># for negative offset need () to avoid thinking it is a 'default' value.</span>
<span class="c"># can also use variables</span>
<span class="nv">x</span><span class="o">=</span>4
<span class="nb">echo</span> <span class="k">${</span><span class="nv">var</span>:0:<span class="nv">$x</span><span class="k">}</span>

<span class="c"># Prefix/Suffix Manipulation. If there is a pattern match it will remove it. Can use * wildcard.</span>
<span class="c"># ${var#pattern} and ${var%pattern}</span>
<span class="nv">filename</span><span class="o">=</span>dummy.sh
<span class="nb">echo</span> <span class="k">${</span><span class="nv">filename</span><span class="p">#*.</span><span class="k">}</span>
<span class="c"># The # removes the matching prefix</span>
<span class="nb">echo</span> <span class="k">${</span><span class="nv">filename</span><span class="p">%.*</span><span class="k">}</span>
<span class="c"># The % removes the matching suffix</span>
</code></pre></div></div> <hr> <h2 id="loops">Loops</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># For loop thru array</span>
<span class="nv">DARRAY</span><span class="o">=(</span>1 2 3 4 5<span class="o">)</span>
<span class="k">for </span>X <span class="k">in</span> <span class="k">${</span><span class="nv">DARRAY</span><span class="p">[@]</span><span class="k">}</span> <span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"number is </span><span class="nv">$X</span><span class="s2">"</span>
<span class="k">done</span>

<span class="c"># For loop with range</span>
<span class="k">for </span>X <span class="k">in</span> <span class="o">{</span>1..10<span class="o">}</span> <span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"number is </span><span class="nv">$X</span><span class="s2">"</span>
<span class="k">done</span>

<span class="c"># For loop thru string</span>
<span class="nv">TEXT</span><span class="o">=</span><span class="s1">'red yellow blue black'</span>
<span class="k">for </span>COLOR <span class="k">in</span> <span class="nv">$TEXT</span> <span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="nv">$COLOR</span>
<span class="k">done</span>

<span class="c"># While loop. Note the ((var)) construct to manipulate a variable</span>
<span class="nv">COUNTER</span><span class="o">=</span>0
<span class="nv">MAX</span><span class="o">=</span>10
<span class="k">while</span> <span class="o">[</span> <span class="nv">$COUNTER</span> <span class="nt">-lt</span> <span class="nv">$MAX</span> <span class="o">]</span> <span class="p">;</span> <span class="k">do
   </span><span class="nb">echo</span> <span class="s2">"counter is </span><span class="nv">$COUNTER</span><span class="s2">"</span>
   <span class="nv">COUNTER</span><span class="o">=</span><span class="k">$((</span><span class="nv">$COUNTER</span> <span class="o">+</span> <span class="m">1</span><span class="k">))</span> or just <span class="o">((</span>COUNTER++<span class="o">))</span>
<span class="k">done</span>

<span class="c"># Until loop</span>
<span class="nv">COUNTER</span><span class="o">=</span>0
<span class="nv">MAX</span><span class="o">=</span>10
<span class="k">until</span> <span class="o">[</span> <span class="nv">$COUNTER</span> <span class="nt">-gt</span> <span class="nv">$MAX</span> <span class="o">]</span> <span class="p">;</span> <span class="k">do
   </span><span class="nb">echo</span> <span class="s2">"counter is </span><span class="nv">$COUNTER</span><span class="s2">"</span>
   <span class="nv">COUNTER</span><span class="o">=</span><span class="k">$((</span><span class="nv">$COUNTER</span> <span class="o">+</span> <span class="m">1</span><span class="k">))</span> or just <span class="o">((</span>COUNTER++<span class="o">))</span>
<span class="k">done

</span><span class="nb">break</span>      <span class="c"># exit immediately and skip remainder of loop</span>
<span class="k">continue</span> <span class="c"># skip the rest of this loop iteration and begin the next</span>

<span class="c"># Example of another While loop for guessing game using</span>
<span class="c"># different types of syntax</span>
<span class="nv">file</span><span class="o">=</span><span class="s2">"highscore"</span>
<span class="nv">attempts</span><span class="o">=</span>0
<span class="nv">guess</span><span class="o">=</span>0
<span class="nv">rannumber</span><span class="o">=</span><span class="k">$((</span> <span class="nv">$RANDOM</span> <span class="o">%</span> <span class="m">100</span> <span class="o">+</span> <span class="m">1</span> <span class="k">))</span>
<span class="c"># (( rannumber = RANDOM % 100 + 1 )) is another way</span>
<span class="nb">echo</span> <span class="nt">-e</span>  <span class="s2">"Guess a number between 1 and 100</span><span class="se">\n</span><span class="s2">"</span>
<span class="c"># -e to exit on error</span>
<span class="k">while</span> <span class="o">((</span> guess <span class="o">!=</span> rannumber <span class="o">))</span><span class="p">;</span> <span class="k">do</span>
    <span class="o">((</span>attempts++<span class="o">))</span>
    <span class="nb">read</span> <span class="nt">-p</span> <span class="s2">"attempt </span><span class="k">${</span><span class="nv">attempts</span><span class="k">}</span><span class="s2">: guess is "</span> guess
    <span class="c"># -p lets it read with a prompt</span>
    <span class="o">[</span> <span class="s2">"</span><span class="nv">$guess</span><span class="s2">"</span> <span class="nt">-lt</span> <span class="s2">"</span><span class="nv">$rannumber</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"Too Low"</span>
    <span class="k">if</span> <span class="o">((</span> guess <span class="o">&gt;</span> rannumber <span class="o">))</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Too High"</span>
    <span class="k">fi
done
</span><span class="nb">echo</span> <span class="s2">"Correct. You guessed it in </span><span class="k">${</span><span class="nv">attempts</span><span class="k">}</span><span class="s2"> tries</span><span class="se">\n</span><span class="s2">"</span>
<span class="nb">read</span> <span class="nt">-p</span> <span class="s2">"Enter your name - "</span> name
<span class="nb">echo</span> <span class="nv">$name</span> <span class="nv">$attempts</span> <span class="o">&gt;&gt;</span> <span class="nv">$file</span>

<span class="nb">echo</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">High Scores"</span>
<span class="nb">cat</span> <span class="nv">$file</span> 
</code></pre></div></div> <hr> <h2 id="select-menu-loop">Select Menu Loop</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Will create a menu with the values in the list and wait for selection​COLORS='red yellow green blue exit'</span>
<span class="nv">PS3</span><span class="o">=</span><span class="s1">'Pick a color '</span> <span class="c"># change menu description</span>
<span class="k">select </span>COLOR <span class="k">in</span> <span class="nv">$COLORS</span>
<span class="k">do
    if</span> <span class="o">[</span> <span class="nv">$COLOR</span> <span class="o">==</span> <span class="s1">'exit'</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then
        </span><span class="nb">break
    </span><span class="k">fi
    </span><span class="nb">echo</span> <span class="s2">"You picked </span><span class="nv">$COLOR</span><span class="s2">"</span>
<span class="k">done</span>
</code></pre></div></div> <hr> <h2 id="functions">Functions</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create a function</span>
<span class="k">function </span>dsum <span class="o">{</span>
    <span class="nb">echo</span> <span class="s2">"</span><span class="k">$((</span><span class="nv">$1</span> <span class="o">+</span> <span class="nv">$2</span><span class="k">))</span><span class="s2">"</span>
<span class="o">}</span>
​
dsum 2 2 <span class="c"># pass values to the function</span>
</code></pre></div></div> <hr> <h2 id="file-utilities">File Utilities</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Useful file utilities</span>
<span class="nv">FILE</span><span class="o">=</span><span class="s2">"test.sh"</span>​
<span class="k">if</span> <span class="o">[</span> <span class="nt">-e</span> <span class="s2">"</span><span class="nv">$FILE</span><span class="s2">"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$FILE</span><span class="s2"> exists"</span>
<span class="k">fi</span>
<span class="c"># -d is used for directory</span>
</code></pre></div></div> <hr> <p>Some Useful Terms</p> <ul> <li>Interpreter is a computer program that directly executes instructions written in a programming or scripting language, without requiring them to be compiled into a machine language program. (from wikipedia)</li> <li>Wrapper is a script that takes more complex commands (and parameters passed to the commands) and works to simplify it, making it easier to re-use.</li> <li>Parameter expansion occurs when you place the $ symbol in front of a variable (it will replace the variable name with value of the variable). It also allows you to perform functions and even modify the value during the expansion process.</li> </ul> <hr> <hr> </article> </div> </main> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Sean Trautman. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>