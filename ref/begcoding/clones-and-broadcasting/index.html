<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Clones and Broadcasting | ST</title> <meta name="author" content="Sean Trautman"/> <meta name="description" content="Using clones to duplicate sprites and broadcasting to communicate between sprites."/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/st-logo-transparent.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://straut12.github.io/ref/begcoding/clones-and-broadcasting/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <div class="site-container"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">ST</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"></a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Coding</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/coding/git/">VScode Github</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/bash/">Bash Shell</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/python/">Python</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/js/">JavaScript</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/coding/html/">Web HTML</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Data Analysis</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/data-analysis/data-collection/">data collection</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/databases/">databases</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/basic-charting/">basic charting</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/data-visualization/">data visualization</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/ml/">machine learning</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/data-analysis/statistics/">notes</a> </div> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Linux</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ref/linux/linuxdistros/">Linux Options</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/desktop/">Desktop Appearance</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/software/">Installing SW</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/sharing/">File Sharing</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/vnc-ssh/">Remote vnc ssh</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/terminal/">Terminal cli</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/autostart/">Autostart systemd</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/logs/">Logs</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/ref/linux/list/">List of SW to Install</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="site-body wrapper"> <aside class="site-sidebar" id="site-sidebar"> <nav class="toc"> <header><h4 class="toc__title">Table of Contents</h4></header> <ul class="toc__menu"> <li><a href="#clones">Clones</a></li> <li><a href="#broadcast-events">Broadcast Events</a></li> <li><a href="#andor-and-booleans">AND/OR and BOOLEANS</a></li> <li><a href="#recap">Recap</a></li> <li><a href="#thinking-ahead">Thinking Ahead</a></li> <li> <a href="#next-section-game-eventsanimation"></a><a href="/ref/begcoding/game-events-and-animation/">Next Section: Game Events/Animation</a> </li> </ul> </nav> </aside> <main> <div class="post"> <p class="post-description">Using clones to duplicate sprites and broadcasting to communicate between sprites.</p> <article> <h1 id="clones">Clones</h1> <p>Cloning is a great feature in Scratch for duplicating sprites, especially in a game environment. If we want to add more grasshoppers all we have to do is clone him. The clone can be found in <strong>Control</strong> blocks.​ There are three important parts to it.</p> <ol> <li> <strong>create clone of myself</strong>. Insert this where you want the sprite to start.</li> <li> <strong>when I start as a clone</strong>. Put in the code you want the sprite to do. For our grasshopper it is the <strong>repeat until</strong> movement code.​​</li> <li> <strong>delete this clone</strong>. It is important to clean up and delete the clone when he moves off the screen. Otherwise our clones will keep accumulating and slow down our program.</li> </ol> <blockquote> <p>You may have noticed our grasshopper always starts at the same location, which makes him predictable. To add an unknown element we’ll use the random operator in our code.</p> </blockquote> <p>First we’ll insert the <strong>random</strong> block for the starting Y position.</p> <p>We’ll also add a block from the <strong>Looks</strong> category. We only want the grasshopper clones to show on our screen. We don’t want the main grasshopper sprite to be visible. So we need to <strong>hide</strong> the main grasshopper and <strong>show</strong> the clones. Try your program without the hide/show first and you’ll see what I mean.</p> <p>The last item is to add a <strong>wait</strong> or delay after creating each clone. This is how you can control how many grasshoppers are on the screen. Play around with the number. Try 0.2, 0.4, 0.6, etc.</p> <p>Code below is for Grasshopper sprite</p> <div class="row"> <div class="col-md mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-grasshopper.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Play around with the <strong>wait</strong> time. Below I put another option for adding multiple clones at once using a <strong>repeat X</strong> loop.</p> <div class="row"> <div class="col-10 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-blocks1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-5 mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-blocks2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h1 id="broadcast-events">Broadcast Events</h1> <p>So far our code has been <strong>sequence</strong> driven. The code is executed line-by-line. But we can add a sprite and have it wait and listen for a specific event. When that event occurs we’ll execute the code for that sprite. This is <strong>event</strong> driven and can make your scene or game much more orchestrated.</p> <p>For this portion I added a couple more sprites. A planet (it will not have any code). And a Pterodactyl (named him Terry). It will help to rename your sprites and play with the size.</p> <div class="row"> <div class="col-md mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-broadcast.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>There’s a couple steps to add broadcast (located in Events block). One sprite will <strong>broadcast</strong> the event and then another sprite that is <strong>listening</strong> react to it.</p> <ol> <li>I will have the grasshopper broadcast <strong>Start Terry</strong> msg when he hits the planet Saturn.</li> <li>Terry our Pterodactyl will be listening. When he hears <strong>Start Terry</strong> he’ll fly down from the top.​ ​ So how do we tell when the grasshopper has hit Saturn? We use a If-Then condition inside the clone loop. There is a <strong>sensing</strong> block that is handy to check when two sprites come in contact.</li> </ol> <p><em>There’s two instructions below. The first is for the grasshopper. The second is Terry (Pterodactyl)</em></p> <div class="row"> <div class="col-md mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-code1.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col-md mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-code2.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>Test your code and make sure everything works.</p> <div class="row"> <div class="col mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-grasshopper.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-terry.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h1 id="andor-and-booleans">AND/OR and BOOLEANS</h1> <p>You’ll notice Terry stutters when he first receives the broadcast message and enters the screen. That’s because the grasshopper is sending multiple messages as it crosses Saturn. We could fix this by using logical AND with a boolean. Boolean is just a variable that we set to either TRUE or FALSE AND is used to check if multiple conditions are met OR is used to check if either/or condition is met. ​ So when we start the program, Terry will initialize a BOOLEAN called <strong>Terry Waiting?</strong> to TRUE. And then we don’t let the grasshopper broadcast a msg to start Terry unless both conditions below are met Grasshopper is touching Saturn <strong>AND</strong> Terry Waiting? is <strong>TRUE</strong> ​This will prevent us from having multiple Terry’s flying at once.</p> <p>You’ll notice for Terry when he starts flying, the <strong>show</strong> block, we’ll set Terry Waiting to <strong>FALSE</strong>. And when he is done flying we’ll set it back to <strong>TRUE</strong>.</p> <div class="row"> <div class="col-md mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-terry1.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col-md mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-terry2.gif" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row"> <div class="col mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-terry3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col mt-3 mt-md-0"> <figure> <picture> <img src="/assets/img/begcoding/clone-grasshopper3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h1 id="recap">Recap</h1> <ul> <li>Clones let us create duplicates of a sprite. Important to remember to delete the clone when it is done in the scene.</li> <li>Broadcast gives us the ability to add <strong>event</strong> driven code. You have one sprite broadcasting a msg and another (or multiple) listening.</li> <li>Logical AND/OR give the ability to compare multiple conditions. You can use this with a True/False boolean to keep track of events. ​​ <h1 id="thinking-ahead">Thinking Ahead</h1> </li> <li>We have all our sprites created and moving on the screen. What if I want to add animation?</li> <li>What if I want to keep track how many times the Dino eats a grasshopper?</li> </ul> <h1 id="next-section-game-eventsanimation"><a href="/ref/begcoding/game-events-and-animation/">Next Section: Game Events/Animation</a></h1> <hr> <hr> </article> </div> </main> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Sean Trautman. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>